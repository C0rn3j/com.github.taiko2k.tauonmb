{
   "app-id":"com.github.taiko2k.tauonmb",
   "runtime":"org.gnome.Platform",
   "runtime-version":"41",
   "sdk":"org.gnome.Sdk",
   "command":"com.github.taiko2k.tauonmb.sh",
   "finish-args":[
      "--share=ipc",
      "--share=network",
      "--socket=wayland",
      "--socket=x11",
      "--socket=pulseaudio",
      "--device=dri",
      "--filesystem=xdg-music",
      "--filesystem=xdg-download",
      "--filesystem=xdg-run/app/com.discordapp.Discord:create",
      "--system-talk-name=org.freedesktop.login1",
      "--talk-name=org.freedesktop.Notifications",
      "--talk-name=org.kde.StatusNotifierWatcher",
      "--own-name=org.mpris.MediaPlayer2.tauon"
      
   ],
   "modules":[
     "shared-modules/libappindicator/libappindicator-gtk3-introspection-12.10.json",
     "python3-modules.json",
     {
    "name": "foo"
     },
      {
         "name": "libopenmpt",
         "config-opts": ["--without-portaudio", "--disable-examples" ],
         "sources": [
            {
              "type": "archive",
              "url": "https://lib.openmpt.org/files/libopenmpt/src/libopenmpt-0.5.5+release.autotools.tar.gz",
              "sha256": "f1e01483ebf1a680d9ec030c9af20f5f2a5ac0f1e0642c18bd5593cfaa9ceb6b"
            }
         ],
         "cleanup": [
              "*.la",
              "*.a",
              "/include"
         ]
      },
      {
         "name": "opusfile",
         "config-opts": [ "--disable-doc", "--disable-examples" ],
         "sources": [
            {
              "type": "archive",
              "url": "https://ftp.osuosl.org/pub/xiph/releases/opus/opusfile-0.12.tar.gz",
              "sha256": "118d8601c12dd6a44f52423e68ca9083cc9f2bfe72da7a8c1acb22a80ae3550b"
            }
         ],
        "cleanup": [
              "*.la",
              "*.a",
              "/include"
            ]
      },
      {
         "name":"tauonmb-git",
         "buildsystem":"simple",
         "build-commands":[
            "bash compile-phazor.sh",
            "python3 compile-translations.py",
            "mkdir -p /app/share/locale",
            "mv locale /app/share/",
            "mkdir -p /app/bin",
            "cp -r * /app/bin/",
            "mkdir -p /app/share/icons/hicolor/scalable/apps",
            "mkdir -p /app/share/icons/hicolor/symbolic/apps",
            "install -D extra/tauonmb.svg /app/share/icons/hicolor/scalable/apps/${FLATPAK_ID}.svg",
            "install -D extra/tauonmb-symbolic.svg /app/share/icons/hicolor/symbolic/apps/${FLATPAK_ID}-symbolic.svg",
            "install -D assets/icon-64.png /app/share/icons/hicolor/64x64/apps/${FLATPAK_ID}.png",
            "install -D assets/icon-128.png /app/share/icons/hicolor/128x128/apps/${FLATPAK_ID}.png",
            "install -D extra/com.github.taiko2k.tauonmb.appdata.xml /app/share/metainfo/${FLATPAK_ID}.appdata.xml",
            "install -D extra/com.github.taiko2k.tauonmb.desktop /app/share/applications/${FLATPAK_ID}.desktop",
            "install -D extra/com.github.taiko2k.tauonmb.sh /app/bin/com.github.taiko2k.tauonmb.sh"
         ],
         "sources":[
            {
               "type":"git",
               "url":"https://github.com/Taiko2k/TauonMusicBox.git",
               "commit":"91e033d12f7a00a4258ca2f81cad2aacf4bbb179"
            }
         ]
      },
      {
            "name": "gst-libav",
            "config-opts": [
              "--disable-gtk-doc",
              "--disable-gpl"
            ],
            "cleanup": [
              "*.la",
              "/share/gtk-doc"
            ],
            "sources": [{
              "type": "archive",
              "url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.14.4.tar.xz",
              "sha256": "dfd78591901df7853eab7e56a86c34a1b03635da0d3d56b89aa577f1897865da"
            }]
        },
        {
            "name": "gst-plugins-ugly",
            "config-opts": [
              "--disable-gtk-doc"
            ],
            "cleanup": [
              "*.la",
              "/share/gtk-doc"
            ],
            "sources": [{
              "type": "archive",
              "url": "https://gstreamer.freedesktop.org/src/gst-plugins-ugly/gst-plugins-ugly-1.14.4.tar.xz",
              "sha256": "ac02d837f166c35ff6ce0738e281680d0b90052cfb1f0255dcf6aaca5f0f6d23"
            }]
      },
      {
            "name": "ffmpeg",
            "config-opts": [
                "--enable-rpath",
                "--disable-static",
                "--enable-shared",
                "--disable-doc",
                "--disable-ffplay",
                "--disable-ffprobe",
                "--enable-libmp3lame",
                "--enable-libvorbis",
                "--enable-libopus"
            ],
            "cleanup": [
                "/share/ffmpeg/examples",
                "/include"
            ],
            "sources": [
                {
                "type": "archive",
                "url": "https://ffmpeg.org/releases/ffmpeg-4.1.1.tar.xz",
                "sha256": "373749824dfd334d84e55dff406729edfd1606575ee44dd485d97d45ea4d2d86"
                }
            ]
      },
      {
         "name":"python-cairo",
         "buildsystem":"simple",
         "build-commands":[
            "python3 setup.py build",
            "mkdir /app/bin/cairo",
            "install -D build/lib.linux-*/cairo/* /app/bin/cairo/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://github.com/pygobject/pycairo/releases/download/v1.19.1/pycairo-1.19.1.tar.gz",
               "sha256":"2c143183280feb67f5beb4e543fd49990c28e7df427301ede04fc550d3562e84"
            }
         ]
      },
      {
         "name":"noto-fonts",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSans-Bold.ttf /app/share/fonts/",
            "install -D NotoSans-Medium.ttf /app/share/fonts/",
            "install -D NotoSans-Regular.ttf /app/share/fonts/",
            "install -D NotoSans-ExtraCondensed.ttf /app/share/fonts/",
            "install -D NotoSans-ExtraCondensedBold.ttf /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSans-hinted.zip",
               "sha256":"02e5f834c526f815f3b9f90f98e2b5b09f17cec107cc751c3b58fc3a2c0b2942"
            }
         ]
      },
            {
         "name":"noto-font-cjk-regular",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSansCJK-Regular.ttc /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJK-Regular.ttc.zip",
               "sha256":"32d03afb0b1109fa75a96f89dfc118015283a5343f2216ee4b3757c19992f75d"
            }
         ]
      },
      {
         "name":"noto-font-cjk-bold",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSansCJK-Bold.ttc /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJK-Bold.ttc.zip",
               "sha256":"3cd895bce6765903b2eefcd90eea6ed372364e66d5b896ea3a594bd3e737eba0"
            }
         ]
      },
      {
         "name":"noto-font-cjk-medium",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSansCJK-Medium.ttc /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJK-Medium.ttc.zip",
               "sha256":"d7590637168e1cff4fd3a15422e483308d7ba2a7120ccaf96ead274c3b40e1b3"
            }
         ]
      }

   ]
}
