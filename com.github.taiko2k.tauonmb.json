{
   "app-id":"com.github.taiko2k.tauonmb",
   "runtime":"org.gnome.Platform",
   "runtime-version":"3.32",
   "sdk":"org.gnome.Sdk",
   "command":"com.github.taiko2k.tauonmb.sh",
   "finish-args":[
      "--share=ipc",
      "--share=network",
      "--socket=wayland",
      "--socket=x11",
      "--socket=pulseaudio",
      "--device=dri",
      "--filesystem=xdg-music",
      "--filesystem=xdg-download",
      "--filesystem=xdg-run/discord:create",
      "--filesystem=~/.config/fontconfig/:ro",
      "--talk-name=org.freedesktop.Notifications",
      "--own-name=org.mpris.MediaPlayer2.tauon"
      
   ],
   "modules":[
      {
         "name":"tauonmb-git",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir /app/bin",
            "cp -r * /app/bin/",
            "mkdir -p /app/share/icons/hicolor/scalable/apps",
            "install -D extra/tauonmb.svg /app/share/icons/hicolor/scalable/apps/${FLATPAK_ID}.svg",
            "install -D extra/tauonmb-symbolic.svg /app/share/icons/hicolor/scalable/${FLATPAK_ID}-symbolic.svg",
            "install -D assets/icon-64.png /app/share/icons/hicolor/64x64/apps/${FLATPAK_ID}.png",
            "install -D assets/icon-128.png /app/share/icons/hicolor/128x128/apps/${FLATPAK_ID}.png",
            "install -D extra/com.github.taiko2k.tauonmb.appdata.xml /app/share/metainfo/${FLATPAK_ID}.appdata.xml",
            "install -D extra/com.github.taiko2k.tauonmb.desktop /app/share/applications/${FLATPAK_ID}.desktop",
            "install -D extra/com.github.taiko2k.tauonmb.sh /app/bin/com.github.taiko2k.tauonmb.sh"
         ],
         "sources":[
            {
               "type":"git",
               "url":"https://github.com/Taiko2k/TauonMusicBox.git",
               "commit":"fca3ae9a587367a998e49b7ac1da4356abafccef"
            }
         ]
      },
      {
         "name":"BASS-libraries",
         "buildsystem":"simple",
         "build-commands":[
            "cp -r * /app/bin/lib"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://github.com/Taiko2k/TauonMusicBox/releases/download/v3.9.1/basslibs64-Apr10.zip",
               "sha256":"4470bec0a41d3dfb5b402265d2403f44df7e4c5931dfef3489c867bbe390efa3"
            }
         ]
      },
      {
            "name": "ffmpeg",
            "config-opts": [
                "--enable-rpath",
                "--disable-static",
                "--enable-shared",
                "--disable-doc",
                "--disable-ffplay",
                "--disable-ffprobe",
                "--enable-libmp3lame",
                "--enable-libvorbis",
                "--enable-libopus"
            ],
            "cleanup": [
                "/share/ffmpeg/examples"
            ],
            "sources": [
                {
                "type": "archive",
                "url": "https://ffmpeg.org/releases/ffmpeg-4.1.1.tar.xz",
                "sha256": "373749824dfd334d84e55dff406729edfd1606575ee44dd485d97d45ea4d2d86"
                }
            ]
      },
      {
         "name":"python-cairo",
         "buildsystem":"simple",
         "build-commands":[
            "python3 setup.py build",
            "mkdir /app/bin/cairo",
            "install -D build/lib.linux-x86_64*/cairo/* /app/bin/cairo/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://github.com/pygobject/pycairo/releases/download/v1.16.3/pycairo-1.16.3.tar.gz",
               "sha256":"5bb321e5d4f8b3a51f56fc6a35c143f1b72ce0d748b43d8b623596e8215f01f7"
            }
         ]
      },
      {
         "name":"noto-fonts",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSans-Bold.ttf /app/share/fonts/",
            "install -D NotoSans-Medium.ttf /app/share/fonts/",
            "install -D NotoSans-Regular.ttf /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSans-hinted.zip",
               "sha256":"02e5f834c526f815f3b9f90f98e2b5b09f17cec107cc751c3b58fc3a2c0b2942"
            }
         ]
      },
      {
         "name":"noto-font-cjk-regular",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSansCJK-Regular.ttc /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJK-Regular.ttc.zip",
               "sha256":"32d03afb0b1109fa75a96f89dfc118015283a5343f2216ee4b3757c19992f75d"
            }
         ]
      },
      {
         "name":"noto-font-cjk-bold",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSansCJK-Bold.ttc /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJK-Bold.ttc.zip",
               "sha256":"3cd895bce6765903b2eefcd90eea6ed372364e66d5b896ea3a594bd3e737eba0"
            }
         ]
      },
      {
         "name":"noto-font-cjk-medium",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir -p /app/share/fonts",
            "install -D NotoSansCJK-Medium.ttc /app/share/fonts/"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJK-Medium.ttc.zip",
               "sha256":"d7590637168e1cff4fd3a15422e483308d7ba2a7120ccaf96ead274c3b40e1b3"
            }
         ]
      },
      {
          "name": "python-deps",
          "buildsystem": "simple",
          "build-commands": [
              "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} pillow pylast dbus-python flask hsaudiotag3k pysdl2 stagger send2trash pylyrics plexapi musicbrainzngs discogs_client pypresence"
          ],
          "sources": [
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/06/b8/d1ea38513c22e8c906275d135818fee16ad8495985956a9b7e2bb21942a1/certifi-2019.3.9.tar.gz",
                  "sha256": "b26104d6835d1f5e49452a26eb2ff87fe7090b89dfcaee5ea2212697e1e1d7ae"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/4c/13/2386233f7ee40aa8444b47f7463338f3cbdf00c316627558784e3f542f07/urllib3-1.25.3.tar.gz",
                  "sha256": "dbe59173209418ae49d485b87d1681aefa36252ee85884c31346debd19463232"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/ad/13/eb56951b6f7950cadb579ca166e448ba77f9d24efc03edd7e55fa57d04b7/idna-2.8.tar.gz",
                  "sha256": "c357b3f628cf53ae2c4c05627ecc484553142ca23264e593d327bcde5e9c3407"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/fc/bb/a5768c230f9ddb03acc9ef3f0d4a3cf93462473795d18e9535498c8f929d/chardet-3.0.4.tar.gz",
                  "sha256": "84ab92ed1c4d4f16916e05906b6b75a6c0fb5db821cc65e70cbd64a3e2a5eaae"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/fb/9e/2e236603b058daa6820193d4d95f4dcfbbbd0d3c709bec8c6ef1b1902501/soupsieve-1.9.1.tar.gz",
                  "sha256": "b20eff5e564529711544066d7dc0f7661df41232ae263619dede5059799cdfca"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/b9/2e/64db92e53b86efccfaea71321f597fa2e1b2bd3853d8ce658568f7a13094/MarkupSafe-1.1.1.tar.gz",
                  "sha256": "29872e92839765e546828bb7754a68c418d927cd064fd4708fab9fe9c8bb116b"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/ec/90/882f43232719f2ebfbdbe8b7c57fc9642a25b3df30cb70a3701ea22622de/oauthlib-3.0.1.tar.gz",
                  "sha256": "0ce32c5d989a1827e3f1148f98b9085ed2370fc939bf524c9c851d8714797298"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/dd/bf/4138e7bfb757de47d1f4b6994648ec67a51efe58fa907c1e11e350cddfca/six-1.12.0.tar.gz",
                  "sha256": "d16a0141ec1a18405cd4ce8b4613101da75da0e9a7aec5bdd4fa804d0e0eba73"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/c5/01/8c9c7de6c46f88e70b5a3276c791a2be82ae83d8e0d0cc030525ee2866fd/websocket_client-0.56.0.tar.gz",
                  "sha256": "1fd5520878b68b84b5748bb30e592b10d0a91529d5383f74f4964e72b297fd3a"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/36/64/071ce46cbb8cd02e5fa88cc6abf31e51724db858a5ffb3f56dc1c6311f3a/tqdm-4.32.1.tar.gz",
                  "sha256": "0a860bf2683fdbb4812fe539a6c22ea3f1777843ea985cb8c3807db448a0f7ab"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/01/62/ddcf76d1d19885e8579acb1b1df26a852b03472c0e46d2b959a714c90608/requests-2.22.0.tar.gz",
                  "sha256": "11e007a8a2aa0323f5a921e9e6a2d7e4e67d9877e85773fba9ba6419025cbeb4"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/80/f2/f6aca7f1b209bb9a7ef069d68813b091c8c3620642b568dac4eb0e507748/beautifulsoup4-4.7.1.tar.gz",
                  "sha256": "945065979fb8529dd2f37dbb58f00b661bdbcbebf954f93b32fdf5263ef35348"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/f8/5c/f60e9d8a1e77005f664b76ff8aeaee5bc05d0a91798afd7f53fc998dbc47/Click-7.0.tar.gz",
                  "sha256": "5b94b49521f6456670fdb30cd82a4eca9412788a93fa6dd6df72c94d5a8ff2d7"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/68/1a/f27de07a8a304ad5fa817bbe383d1238ac4396da447fa11ed937039fa04b/itsdangerous-1.1.0.tar.gz",
                  "sha256": "321b033d07f2a4136d3ec762eac9f16a10ccd60f53c0c91af90217ace7ba1f19"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/93/ea/d884a06f8c7f9b7afbc8138b762e80479fb17aedbbe2b06515a12de9378d/Jinja2-2.10.1.tar.gz",
                  "sha256": "065c4f02ebe7f7cf559e49ee5a95fb800a9e4528727aec6f24402a5374c65013"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/59/2d/b24bab64b409e22f026fee6705b035cb0698399a7b69449c49442b30af47/Werkzeug-0.15.4.tar.gz",
                  "sha256": "a0b915f0815982fb2a09161cb8f31708052d0951c3ba433ccc5e1aa276507ca6"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/19/15/1396287b34adc61441bfb5bd253f0f302b65182e6936630e0de35910fc38/pypresence-3.3.2.tar.gz",
                  "sha256": "d39f8eb79c521ae2f3dd8e2dbfa204d7df4201f044b68bcae6339c75b87dfb7b"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/80/73/4f2e9180b9b2d2033d11c343f4d475452bed2512174c8691289e42d4720c/discogs-client-2.2.2.tar.gz",
                  "sha256": "aeae43fb9281e27c580d1bcd484e6c309f4f3a05af3908016ee3363786ef43d8"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/63/cc/67ad422295750e2b9ee57c27370dc85d5b85af2454afe7077df6b93d5938/musicbrainzngs-0.6.tar.gz",
                  "sha256": "28ef261a421dffde0a25281dab1ab214e1b407eec568cd05a53e73256f56adb5"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/f5/41/134162e767252aa3b27be33263e57fc6fedf0c6516ad550a7b509b38e16e/PlexAPI-3.1.0.tar.gz",
                  "sha256": "4044876f354b6b93737f704e41910c5a5537e000ad9d4dc79b4ded7bc9e9ce4d"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/9d/74/8e92322cb1425739849eb719c3b5d8ca05a6b1f027829fd56b4db7c4b7c7/PyLyrics-1.1.0.zip",
                  "sha256": "c5f36e8ef0ed3b487a9242ce34c19f9684e418a5bbffd5d367dc1d1604b4cd0b"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/13/2e/ea40de0304bb1dc4eb309de90aeec39871b9b7c4bd30f1a3cdcb3496f5c0/Send2Trash-1.5.0.tar.gz",
                  "sha256": "60001cc07d707fe247c94f74ca6ac0d3255aabcb930529690897ca2a39db28b2"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/c9/a4/02fd8648d409824239de9faa40742a33606942fb7e329c10e50534b7ebbb/stagger-1.0.0.tar.gz",
                  "sha256": "a587189ac654dfda469bce753732e534494f009895183ac52ad71b3af20920bc"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/eb/08/8a81128ff6ca89019de9771425638bc197a28f40c1e377f03626baa5d729/PySDL2-0.9.6.tar.gz",
                  "sha256": "b52acab5493a77b08c2afee1f385769fc2005f17cfeaf1886eff22dc78da2123"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/6f/f3/78d4323a6b30d117ad20638606674c1220b2e415d2b95beeb50fb049bd62/hsaudiotag3k-1.1.3.tar.gz",
                  "sha256": "a36b9607725881713d40838fd72b9becb6e940d8fd1c08eb12d92f924a99652f"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/e9/96/8f6d83828a77306a119e12b215a7b0637c955b408fb1c161311a6891b958/Flask-1.0.3.tar.gz",
                  "sha256": "ad7c6d841e64296b962296c2c2dabc6543752985727af86a975072dea984b6f3"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/3f/e7/4edb582d1ffd5ac3c84188deea32e960b5c8c0fe1da56ce70224f85ce542/dbus-python-1.2.8.tar.gz",
                  "sha256": "abf12bbb765e300bf8e2a1b2f32f85949eab06998dbda127952c31cb63957b6f"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/c1/3b/05414f6c406d571604a6ee19530ba0a0bd35a8c2cae158ffac0caaa74179/pylast-3.1.0.tar.gz",
                  "sha256": "7eb58682beccc0052c3284aba64a9a6454b5e89706f789ebeb2403dc1045606a"
              },
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/81/1a/6b2971adc1bca55b9a53ed1efa372acff7e8b9913982a396f3fa046efaf8/Pillow-6.0.0.tar.gz",
                  "sha256": "809c0a2ce9032cbcd7b5313f71af4bdc5c8c771cb86eb7559afd954cab82ebb5"
              }
          ]
      }
   ]
}
